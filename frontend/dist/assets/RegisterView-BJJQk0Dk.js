import{_ as N,u as V,e as f,f as y,c as w,b as t,a as l,w as m,g as P,r as b,o as c,h,i as B,j as q,d as n,t as C}from"./index-BvqHgb2h.js";import{B as S}from"./BaseCard-ieAyc1Mh.js";import{B as k}from"./BaseButton-CaRIBqmI.js";import{B as d}from"./BaseInput-BXvUm3jM.js";const E={class:"register-view"},x={class:"register-view__container"},A={class:"register-view__actions"},R={key:0,class:"register-view__error"},U={class:"register-view__footer"},L={__name:"RegisterView",setup(F){const p=P(),u=V(),e=f({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),s=f({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),i=y(""),_=()=>{Object.keys(s).forEach(r=>{s[r]=""}),i.value="";let a=!0;return e.firstName.trim()||(s.firstName="First name is required",a=!1),e.lastName.trim()||(s.lastName="Last name is required",a=!1),e.email?/\S+@\S+\.\S+/.test(e.email)||(s.email="Please enter a valid email",a=!1):(s.email="Email is required",a=!1),e.password?e.password.length<6&&(s.password="Password must be at least 6 characters",a=!1):(s.password="Password is required",a=!1),e.confirmPassword?e.password!==e.confirmPassword&&(s.confirmPassword="Passwords do not match",a=!1):(s.confirmPassword="Please confirm your password",a=!1),a},v=async()=>{if(_())try{await u.register({firstName:e.firstName.trim(),lastName:e.lastName.trim(),email:e.email,password:e.password}),p.push("/dashboard")}catch(a){a.status===409?i.value="An account with this email already exists":i.value=a.message||"An error occurred while creating your account"}};return(a,r)=>{const g=b("RouterLink");return c(),w("div",E,[t("div",x,[l(S,{class:"register-view__card"},{default:m(()=>[r[8]||(r[8]=t("div",{class:"register-view__header"},[t("h1",{class:"register-view__title"},"Create Account"),t("p",{class:"register-view__subtitle"},"Get started with your free account")],-1)),t("form",{onSubmit:h(v,["prevent"]),class:"register-view__form"},[l(d,{modelValue:e.firstName,"onUpdate:modelValue":r[0]||(r[0]=o=>e.firstName=o),label:"First Name",placeholder:"Enter your first name",error:s.firstName,required:""},null,8,["modelValue","error"]),l(d,{modelValue:e.lastName,"onUpdate:modelValue":r[1]||(r[1]=o=>e.lastName=o),label:"Last Name",placeholder:"Enter your last name",error:s.lastName,required:""},null,8,["modelValue","error"]),l(d,{modelValue:e.email,"onUpdate:modelValue":r[2]||(r[2]=o=>e.email=o),label:"Email",type:"email",placeholder:"Enter your email",error:s.email,required:""},null,8,["modelValue","error"]),l(d,{modelValue:e.password,"onUpdate:modelValue":r[3]||(r[3]=o=>e.password=o),label:"Password",type:"password",placeholder:"Create a password (min. 6 characters)",error:s.password,required:""},null,8,["modelValue","error"]),l(d,{modelValue:e.confirmPassword,"onUpdate:modelValue":r[4]||(r[4]=o=>e.confirmPassword=o),label:"Confirm Password",type:"password",placeholder:"Confirm your password",error:s.confirmPassword,required:""},null,8,["modelValue","error"]),t("div",A,[l(k,{type:"submit",size:"large",loading:q(u).loading,class:"w-full"},{default:m(()=>[...r[5]||(r[5]=[n(" Create Account ",-1)])]),_:1},8,["loading"])]),i.value?(c(),w("div",R,C(i.value),1)):B("",!0)],32),t("div",U,[t("p",null,[r[7]||(r[7]=n(" Already have an account? ",-1)),l(g,{to:"/login",class:"register-view__link"},{default:m(()=>[...r[6]||(r[6]=[n(" Sign in ",-1)])]),_:1})])])]),_:1})])])}}},D=N(L,[["__scopeId","data-v-6a6af9bf"]]);export{D as default};
